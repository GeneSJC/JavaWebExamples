<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<script type="text/javascript" src='../js/ajax_util.js'  ></script>

<script type="text/javascript">


	function getName()
	{
		var baseurl = "http://localhost:8080/JavaWebExamples/StudentInfo?roll=";
		var roll = document.getElementById("roll").value;
		var url = baseurl+ roll;
		
		doAjaxRequest(url, showResult);
	}
	
	function showResult() 
	{
		var response = getAjaxResponse();
		if (response == null)
			return;
		
		processStudentData(response);
	}
	
	function processStudentData(response)
	{
		var students = response.getElementsByTagName("Student");
		var student = students[0];

		document.getElementById("NamelH1").innerHTML = student
				.getElementsByTagName("Name")[0].textContent;
		document.getElementById("HostelH1").innerHTML = student
				.getElementsByTagName("Hostel")[0].textContent;
		document.getElementById("ContactH1").innerHTML = student
				.getElementsByTagName("Contact")[0].textContent;
	}
</script>
</head>
<body>
	<h2>GET STUDENT INFO</h2>
	<br> Enter Roll Number
	<input type="text" id="roll">
	<input type="button" value="Get Name" onclick="getName();" />
	<br> Name :
	<span id="NamelH1"></span>
	<br> Hostel :
	<span id="HostelH1"></span>
	<br> Contact :
	<span id="ContactH1"></span>
	<br>
</body>
</html>
